'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});
exports.sha384 = sha384;

var _jsUint = require('@aureooms/js-uint64');

// Initialize table of round constants
// (first 64 bits of the fractional parts of the cube roots of the first 80 primes 2..311):
var k = [[0x428a2f98, 0xd728ae22], [0x71374491, 0x23ef65cd], [0xb5c0fbcf, 0xec4d3b2f], [0xe9b5dba5, 0x8189dbbc], [0x3956c25b, 0xf348b538], [0x59f111f1, 0xb605d019], [0x923f82a4, 0xaf194f9b], [0xab1c5ed5, 0xda6d8118], [0xd807aa98, 0xa3030242], [0x12835b01, 0x45706fbe], [0x243185be, 0x4ee4b28c], [0x550c7dc3, 0xd5ffb4e2], [0x72be5d74, 0xf27b896f], [0x80deb1fe, 0x3b1696b1], [0x9bdc06a7, 0x25c71235], [0xc19bf174, 0xcf692694], [0xe49b69c1, 0x9ef14ad2], [0xefbe4786, 0x384f25e3], [0x0fc19dc6, 0x8b8cd5b5], [0x240ca1cc, 0x77ac9c65], [0x2de92c6f, 0x592b0275], [0x4a7484aa, 0x6ea6e483], [0x5cb0a9dc, 0xbd41fbd4], [0x76f988da, 0x831153b5], [0x983e5152, 0xee66dfab], [0xa831c66d, 0x2db43210], [0xb00327c8, 0x98fb213f], [0xbf597fc7, 0xbeef0ee4], [0xc6e00bf3, 0x3da88fc2], [0xd5a79147, 0x930aa725], [0x06ca6351, 0xe003826f], [0x14292967, 0x0a0e6e70], [0x27b70a85, 0x46d22ffc], [0x2e1b2138, 0x5c26c926], [0x4d2c6dfc, 0x5ac42aed], [0x53380d13, 0x9d95b3df], [0x650a7354, 0x8baf63de], [0x766a0abb, 0x3c77b2a8], [0x81c2c92e, 0x47edaee6], [0x92722c85, 0x1482353b], [0xa2bfe8a1, 0x4cf10364], [0xa81a664b, 0xbc423001], [0xc24b8b70, 0xd0f89791], [0xc76c51a3, 0x0654be30], [0xd192e819, 0xd6ef5218], [0xd6990624, 0x5565a910], [0xf40e3585, 0x5771202a], [0x106aa070, 0x32bbd1b8], [0x19a4c116, 0xb8d2d0c8], [0x1e376c08, 0x5141ab53], [0x2748774c, 0xdf8eeb99], [0x34b0bcb5, 0xe19b48a8], [0x391c0cb3, 0xc5c95a63], [0x4ed8aa4a, 0xe3418acb], [0x5b9cca4f, 0x7763e373], [0x682e6ff3, 0xd6b2b8a3], [0x748f82ee, 0x5defb2fc], [0x78a5636f, 0x43172f60], [0x84c87814, 0xa1f0ab72], [0x8cc70208, 0x1a6439ec], [0x90befffa, 0x23631e28], [0xa4506ceb, 0xde82bde9], [0xbef9a3f7, 0xb2c67915], [0xc67178f2, 0xe372532b], [0xca273ece, 0xea26619c], [0xd186b8c7, 0x21c0c207], [0xeada7dd6, 0xcde0eb1e], [0xf57d4f7f, 0xee6ed178], [0x06f067aa, 0x72176fba], [0x0a637dc5, 0xa2c898a6], [0x113f9804, 0xbef90dae], [0x1b710b35, 0x131c471b], [0x28db77f5, 0x23047d84], [0x32caab7b, 0x40c72493], [0x3c9ebe0a, 0x15c9bebc], [0x431d67c4, 0x9c100d4c], [0x4cc5d4be, 0xcb3e42b6], [0x597f299c, 0xfc657e2a], [0x5fcb6fab, 0x3ad6faec], [0x6c44198c, 0x4a475817]];

function cycle(state, w) {

	// initialize hash value for this chunk:
	var a = state[0];
	var b = state[1];
	var c = state[2];
	var d = state[3];
	var e = state[4];
	var f = state[5];
	var g = state[6];
	var h = state[7];

	// Main loop:
	// for j from 0 to 79
	for (var j = 0; j < 80; ++j) {
		// S1 := (e rightrotate 14) xor (e rightrotate 18) xor (e rightrotate 41)
		var s1 = (0, _jsUint.xor64)((0, _jsUint.xor64)((0, _jsUint.rot64)(e, 14), (0, _jsUint.rot64)(e, 18)), (0, _jsUint.rot64)(e, 41));
		// ch := (e and f) xor ((not e) and g)
		var ch = (0, _jsUint.xor64)((0, _jsUint.and64)(e, f), (0, _jsUint.and64)((0, _jsUint.not64)(e), g));
		// temp := h + S1 + ch + k[j] + w[j]
		var temp = (0, _jsUint.add64)((0, _jsUint.add64)(h, s1), (0, _jsUint.add64)((0, _jsUint.add64)(ch, k[j]), w[j]));
		// d := d + temp;
		d = (0, _jsUint.add64)(d, temp);
		// S0 := (a rightrotate 28) xor (a rightrotate 34) xor (a rightrotate 39)
		var s0 = (0, _jsUint.xor64)((0, _jsUint.xor64)((0, _jsUint.rot64)(a, 28), (0, _jsUint.rot64)(a, 34)), (0, _jsUint.rot64)(a, 39));
		// maj := (a and (b xor c)) xor (b and c)
		var maj = (0, _jsUint.xor64)((0, _jsUint.and64)(a, (0, _jsUint.xor64)(b, c)), (0, _jsUint.and64)(b, c));
		// temp := temp + S0 + maj
		temp = (0, _jsUint.add64)((0, _jsUint.add64)(temp, s0), maj);

		h = g;
		g = f;
		f = e;
		e = d;
		d = c;
		c = b;
		b = a;
		a = temp;
	}

	// Add this chunk's hash to result so far:
	state[0] = (0, _jsUint.add64)(state[0], a);
	state[1] = (0, _jsUint.add64)(state[1], b);
	state[2] = (0, _jsUint.add64)(state[2], c);
	state[3] = (0, _jsUint.add64)(state[3], d);
	state[4] = (0, _jsUint.add64)(state[4], e);
	state[5] = (0, _jsUint.add64)(state[5], f);
	state[6] = (0, _jsUint.add64)(state[6], g);
	state[7] = (0, _jsUint.add64)(state[7], h);
}

function call(h, data, o) {

	var w = new Array(80);

	// break chunk into sixteen 64-bit big-endian words w[i], 0 ≤ i ≤ 15
	for (var j = 0; j < 16; ++j) {
		w[j] = (0, _jsUint.big64)(data, o + j * 8);
	}

	// Extend the sixteen 64-bit words into 80 64-bit words:
	// for j from 16 to 79
	for (var _j = 16; _j < 80; ++_j) {
		// s0 := (w[j-15] rightrotate 1) xor (w[j-15] rightrotate 8) xor (w[j-15] rightshift 7)
		var s0 = (0, _jsUint.xor64)((0, _jsUint.xor64)((0, _jsUint.rot64)(w[_j - 15], 1), (0, _jsUint.rot64)(w[_j - 15], 8)), (0, _jsUint.shr64)(w[_j - 15], 7));
		// s1 := (w[j-2] rightrotate 19) xor (w[j-2] rightrotate 61) xor (w[j-2] rightshift 6)
		var s1 = (0, _jsUint.xor64)((0, _jsUint.xor64)((0, _jsUint.rot64)(w[_j - 2], 19), (0, _jsUint.rot64)(w[_j - 2], 61)), (0, _jsUint.shr64)(w[_j - 2], 6));
		// w[j] := w[j-16] + s0 + w[j-7] + s1
		w[_j] = (0, _jsUint.add64)((0, _jsUint.add64)(w[_j - 16], s0), (0, _jsUint.add64)(w[_j - 7], s1));
	}

	cycle(h, w);
}

/**
 * SHA-384
 */
function sha384(bytes, n, digest) {

	// Note 1: All variables are unsigned 64 bits and wrap modulo 2^64 when calculating
	// Note 2: All constants in this pseudo code are in big endian

	// Initialize variables
	// (first 64 bits of the fractional parts of the square roots of the 9th through 16th primes 23..53)
	var h = [[0xcbbb9d5d, 0xc1059ed8], [0x629a292a, 0x367cd507], [0x9159015a, 0x3070dd17], [0x152fecd8, 0xf70e5939], [0x67332667, 0xffc00b31], [0x8eb44a87, 0x68581511], [0xdb0c2e0d, 0x64f98fa7], [0x47b5481d, 0xbefa4fa4]];

	// PREPARE

	var q = n / 8 | 0;
	var z = q * 8;
	var u = n - z;

	// append the bit '1' to the message
	var last = void 0;
	if (u > 0) {
		last = bytes[q] & ~0 << 7 - u;
	} else {
		last = 0x80;
	}

	// Process the message in successive 1024-bit chunks:
	// break message into 1024-bit chunks

	var m = n / 1024 | 0;
	var y = (n - 1024 * m) / 8 | 0;

	// offset in data
	var o = 0;

	// for each chunk
	for (var j = 0; j < m; ++j, o += 128) {
		call(h, bytes, o);
	}

	// last bytes + padding + length
	var tail = [];

	// last bytes
	for (var _j2 = 0; _j2 < y; ++_j2) {
		tail.push(bytes[o + _j2]);
	}

	// special care taken for the very last byte which could
	// have been modified if n is not a multiple of 8
	tail.push(last);

	// append 0 ≤ k < 1024 bits '0', so that the resulting
	// message length (in bits) is congruent to 896 (mod 1024)
	var g = 896 - (n + 1) % 1024;
	var zeroes = g / 8 | 0;

	if (g < 0) {
		// we need an additional block as there is
		// not enough space left to append
		// the length of the data in bits

		for (var _j3 = 0; _j3 < -zeroes; ++_j3) {
			tail.push(0);
		}

		call(h, tail, 0);

		zeroes = 896 / 8;
		tail = [];
	}

	// pad with zeroes
	for (var _j4 = 0; _j4 < zeroes; ++_j4) {
		tail.push(0);
	}

	// append length of message (before preparation), in bits,
	// as 128-bit big-endian integer

	// JavaScript works with 32 bit integers.
	// tail.push((n >>> 124) & 0xff);
	// tail.push((n >>> 116) & 0xff);
	// tail.push((n >>> 108) & 0xff);
	// tail.push((n >>> 96) & 0xff);
	// tail.push((n >>> 88) & 0xff);
	// tail.push((n >>> 80) & 0xff);
	// tail.push((n >>> 72) & 0xff);
	// tail.push((n >>> 64) & 0xff);
	// tail.push((n >>> 56) & 0xff);
	// tail.push((n >>> 48) & 0xff);
	// tail.push((n >>> 40) & 0xff);
	// tail.push((n >>> 32) & 0xff);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);
	tail.push(0);

	tail.push(n >>> 24 & 0xff);
	tail.push(n >>> 16 & 0xff);
	tail.push(n >>> 8 & 0xff);
	tail.push(n >>> 0 & 0xff);

	call(h, tail, 0);

	for (var i = 0, _j5 = 0; _j5 < 6; ++_j5) {
		digest[i] = h[_j5][0] >>> 24 & 0xff;
		++i;
		digest[i] = h[_j5][0] >>> 16 & 0xff;
		++i;
		digest[i] = h[_j5][0] >>> 8 & 0xff;
		++i;
		digest[i] = h[_j5][0] >>> 0 & 0xff;
		++i;
		digest[i] = h[_j5][1] >>> 24 & 0xff;
		++i;
		digest[i] = h[_j5][1] >>> 16 & 0xff;
		++i;
		digest[i] = h[_j5][1] >>> 8 & 0xff;
		++i;
		digest[i] = h[_j5][1] >>> 0 & 0xff;
		++i;
	}

	return digest;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9zaGEzODQuanMiXSwibmFtZXMiOlsic2hhMzg0IiwiayIsImN5Y2xlIiwic3RhdGUiLCJ3IiwiYSIsImIiLCJjIiwiZCIsImUiLCJmIiwiZyIsImgiLCJqIiwiczEiLCJjaCIsInRlbXAiLCJzMCIsIm1haiIsImNhbGwiLCJkYXRhIiwibyIsIkFycmF5IiwiYnl0ZXMiLCJuIiwiZGlnZXN0IiwicSIsInoiLCJ1IiwibGFzdCIsIm0iLCJ5IiwidGFpbCIsInB1c2giLCJ6ZXJvZXMiLCJpIl0sIm1hcHBpbmdzIjoiOzs7OztRQTJHZ0JBLE0sR0FBQUEsTTs7QUEzR2hCOztBQUVBO0FBQ0E7QUFDQSxJQUFNQyxJQUFJLENBQ1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQURTLEVBQ2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FEakIsRUFDMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUQzQyxFQUNxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBRHJFLEVBRVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUZTLEVBRWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FGakIsRUFFMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUYzQyxFQUVxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBRnJFLEVBR1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUhTLEVBR2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FIakIsRUFHMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUgzQyxFQUdxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBSHJFLEVBSVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUpTLEVBSWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FKakIsRUFJMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUozQyxFQUlxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBSnJFLEVBS1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUxTLEVBS2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FMakIsRUFLMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQUwzQyxFQUtxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBTHJFLEVBTVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQU5TLEVBTWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FOakIsRUFNMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQU4zQyxFQU1xRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBTnJFLEVBT1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVBTLEVBT2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FQakIsRUFPMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVAzQyxFQU9xRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBUHJFLEVBUVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVJTLEVBUWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FSakIsRUFRMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVIzQyxFQVFxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBUnJFLEVBU1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVRTLEVBU2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FUakIsRUFTMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVQzQyxFQVNxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBVHJFLEVBVVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVZTLEVBVWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FWakIsRUFVMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVYzQyxFQVVxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBVnJFLEVBV1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVhTLEVBV2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FYakIsRUFXMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVgzQyxFQVdxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBWHJFLEVBWVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVpTLEVBWWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FaakIsRUFZMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQVozQyxFQVlxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBWnJFLEVBYVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWJTLEVBYWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FiakIsRUFhMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWIzQyxFQWFxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBYnJFLEVBY1QsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWRTLEVBY2lCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FkakIsRUFjMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWQzQyxFQWNxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBZHJFLEVBZVQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWZTLEVBZWlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FmakIsRUFlMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWYzQyxFQWVxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBZnJFLEVBZ0JULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FoQlMsRUFnQmlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FoQmpCLEVBZ0IyQyxDQUFDLFVBQUQsRUFBYSxVQUFiLENBaEIzQyxFQWdCcUUsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWhCckUsRUFpQlQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWpCUyxFQWlCaUIsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWpCakIsRUFpQjJDLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FqQjNDLEVBaUJxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBakJyRSxFQWtCVCxDQUFDLFVBQUQsRUFBYSxVQUFiLENBbEJTLEVBa0JpQixDQUFDLFVBQUQsRUFBYSxVQUFiLENBbEJqQixFQWtCMkMsQ0FBQyxVQUFELEVBQWEsVUFBYixDQWxCM0MsRUFrQnFFLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FsQnJFLEVBbUJULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FuQlMsRUFtQmlCLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FuQmpCLEVBbUIyQyxDQUFDLFVBQUQsRUFBYSxVQUFiLENBbkIzQyxFQW1CcUUsQ0FBQyxVQUFELEVBQWEsVUFBYixDQW5CckUsRUFvQlQsQ0FBQyxVQUFELEVBQWEsVUFBYixDQXBCUyxFQW9CaUIsQ0FBQyxVQUFELEVBQWEsVUFBYixDQXBCakIsRUFvQjJDLENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FwQjNDLEVBb0JxRSxDQUFDLFVBQUQsRUFBYSxVQUFiLENBcEJyRSxDQUFWOztBQXVCQSxTQUFTQyxLQUFULENBQWdCQyxLQUFoQixFQUF1QkMsQ0FBdkIsRUFBMEI7O0FBRXpCO0FBQ0EsS0FBSUMsSUFBSUYsTUFBTSxDQUFOLENBQVI7QUFDQSxLQUFJRyxJQUFJSCxNQUFNLENBQU4sQ0FBUjtBQUNBLEtBQUlJLElBQUlKLE1BQU0sQ0FBTixDQUFSO0FBQ0EsS0FBSUssSUFBSUwsTUFBTSxDQUFOLENBQVI7QUFDQSxLQUFJTSxJQUFJTixNQUFNLENBQU4sQ0FBUjtBQUNBLEtBQUlPLElBQUlQLE1BQU0sQ0FBTixDQUFSO0FBQ0EsS0FBSVEsSUFBSVIsTUFBTSxDQUFOLENBQVI7QUFDQSxLQUFJUyxJQUFJVCxNQUFNLENBQU4sQ0FBUjs7QUFFQTtBQUNBO0FBQ0EsTUFBSyxJQUFJVSxJQUFJLENBQWIsRUFBZ0JBLElBQUksRUFBcEIsRUFBd0IsRUFBRUEsQ0FBMUIsRUFBNkI7QUFDNUI7QUFDQSxNQUFNQyxLQUFLLG1CQUFNLG1CQUFNLG1CQUFNTCxDQUFOLEVBQVMsRUFBVCxDQUFOLEVBQW9CLG1CQUFNQSxDQUFOLEVBQVMsRUFBVCxDQUFwQixDQUFOLEVBQXlDLG1CQUFNQSxDQUFOLEVBQVMsRUFBVCxDQUF6QyxDQUFYO0FBQ0E7QUFDQSxNQUFNTSxLQUFLLG1CQUFNLG1CQUFNTixDQUFOLEVBQVNDLENBQVQsQ0FBTixFQUFtQixtQkFBTSxtQkFBTUQsQ0FBTixDQUFOLEVBQWdCRSxDQUFoQixDQUFuQixDQUFYO0FBQ0E7QUFDQSxNQUFJSyxPQUFPLG1CQUFNLG1CQUFNSixDQUFOLEVBQVNFLEVBQVQsQ0FBTixFQUFvQixtQkFBTSxtQkFBTUMsRUFBTixFQUFVZCxFQUFFWSxDQUFGLENBQVYsQ0FBTixFQUF1QlQsRUFBRVMsQ0FBRixDQUF2QixDQUFwQixDQUFYO0FBQ0E7QUFDQUwsTUFBSSxtQkFBTUEsQ0FBTixFQUFTUSxJQUFULENBQUo7QUFDQTtBQUNBLE1BQU1DLEtBQUssbUJBQU0sbUJBQU0sbUJBQU1aLENBQU4sRUFBUyxFQUFULENBQU4sRUFBb0IsbUJBQU1BLENBQU4sRUFBUyxFQUFULENBQXBCLENBQU4sRUFBeUMsbUJBQU1BLENBQU4sRUFBUyxFQUFULENBQXpDLENBQVg7QUFDQTtBQUNBLE1BQU1hLE1BQU0sbUJBQU0sbUJBQU1iLENBQU4sRUFBUyxtQkFBTUMsQ0FBTixFQUFTQyxDQUFULENBQVQsQ0FBTixFQUE2QixtQkFBTUQsQ0FBTixFQUFTQyxDQUFULENBQTdCLENBQVo7QUFDQTtBQUNBUyxTQUFPLG1CQUFNLG1CQUFNQSxJQUFOLEVBQVlDLEVBQVosQ0FBTixFQUF1QkMsR0FBdkIsQ0FBUDs7QUFFQU4sTUFBSUQsQ0FBSjtBQUNBQSxNQUFJRCxDQUFKO0FBQ0FBLE1BQUlELENBQUo7QUFDQUEsTUFBSUQsQ0FBSjtBQUNBQSxNQUFJRCxDQUFKO0FBQ0FBLE1BQUlELENBQUo7QUFDQUEsTUFBSUQsQ0FBSjtBQUNBQSxNQUFJVyxJQUFKO0FBQ0E7O0FBRUQ7QUFDQWIsT0FBTSxDQUFOLElBQVcsbUJBQU1BLE1BQU0sQ0FBTixDQUFOLEVBQWdCRSxDQUFoQixDQUFYO0FBQ0FGLE9BQU0sQ0FBTixJQUFXLG1CQUFNQSxNQUFNLENBQU4sQ0FBTixFQUFnQkcsQ0FBaEIsQ0FBWDtBQUNBSCxPQUFNLENBQU4sSUFBVyxtQkFBTUEsTUFBTSxDQUFOLENBQU4sRUFBZ0JJLENBQWhCLENBQVg7QUFDQUosT0FBTSxDQUFOLElBQVcsbUJBQU1BLE1BQU0sQ0FBTixDQUFOLEVBQWdCSyxDQUFoQixDQUFYO0FBQ0FMLE9BQU0sQ0FBTixJQUFXLG1CQUFNQSxNQUFNLENBQU4sQ0FBTixFQUFnQk0sQ0FBaEIsQ0FBWDtBQUNBTixPQUFNLENBQU4sSUFBVyxtQkFBTUEsTUFBTSxDQUFOLENBQU4sRUFBZ0JPLENBQWhCLENBQVg7QUFDQVAsT0FBTSxDQUFOLElBQVcsbUJBQU1BLE1BQU0sQ0FBTixDQUFOLEVBQWdCUSxDQUFoQixDQUFYO0FBQ0FSLE9BQU0sQ0FBTixJQUFXLG1CQUFNQSxNQUFNLENBQU4sQ0FBTixFQUFnQlMsQ0FBaEIsQ0FBWDtBQUNBOztBQUVELFNBQVNPLElBQVQsQ0FBZVAsQ0FBZixFQUFrQlEsSUFBbEIsRUFBd0JDLENBQXhCLEVBQTJCOztBQUUxQixLQUFNakIsSUFBSSxJQUFJa0IsS0FBSixDQUFVLEVBQVYsQ0FBVjs7QUFFQTtBQUNBLE1BQUssSUFBSVQsSUFBSSxDQUFiLEVBQWdCQSxJQUFJLEVBQXBCLEVBQXdCLEVBQUVBLENBQTFCLEVBQTZCO0FBQzVCVCxJQUFFUyxDQUFGLElBQU8sbUJBQU1PLElBQU4sRUFBWUMsSUFBSVIsSUFBSSxDQUFwQixDQUFQO0FBQ0E7O0FBRUQ7QUFDQTtBQUNBLE1BQUssSUFBSUEsS0FBSSxFQUFiLEVBQWlCQSxLQUFJLEVBQXJCLEVBQXlCLEVBQUVBLEVBQTNCLEVBQThCO0FBQzdCO0FBQ0EsTUFBTUksS0FBSyxtQkFBTSxtQkFBTSxtQkFBTWIsRUFBRVMsS0FBRSxFQUFKLENBQU4sRUFBZ0IsQ0FBaEIsQ0FBTixFQUEwQixtQkFBTVQsRUFBRVMsS0FBRSxFQUFKLENBQU4sRUFBZ0IsQ0FBaEIsQ0FBMUIsQ0FBTixFQUFxRCxtQkFBTVQsRUFBRVMsS0FBRSxFQUFKLENBQU4sRUFBZSxDQUFmLENBQXJELENBQVg7QUFDQTtBQUNBLE1BQU1DLEtBQUssbUJBQU0sbUJBQU0sbUJBQU1WLEVBQUVTLEtBQUcsQ0FBTCxDQUFOLEVBQWUsRUFBZixDQUFOLEVBQTBCLG1CQUFNVCxFQUFFUyxLQUFHLENBQUwsQ0FBTixFQUFlLEVBQWYsQ0FBMUIsQ0FBTixFQUFxRCxtQkFBTVQsRUFBRVMsS0FBRyxDQUFMLENBQU4sRUFBZSxDQUFmLENBQXJELENBQVg7QUFDQTtBQUNBVCxJQUFFUyxFQUFGLElBQU8sbUJBQU0sbUJBQU1ULEVBQUVTLEtBQUUsRUFBSixDQUFOLEVBQWVJLEVBQWYsQ0FBTixFQUEwQixtQkFBTWIsRUFBRVMsS0FBRSxDQUFKLENBQU4sRUFBY0MsRUFBZCxDQUExQixDQUFQO0FBQ0E7O0FBRURaLE9BQU1VLENBQU4sRUFBU1IsQ0FBVDtBQUVBOztBQUlEOzs7QUFHTyxTQUFTSixNQUFULENBQWlCdUIsS0FBakIsRUFBd0JDLENBQXhCLEVBQTJCQyxNQUEzQixFQUFtQzs7QUFFekM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBTWIsSUFBSSxDQUNULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FEUyxFQUVULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FGUyxFQUdULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FIUyxFQUlULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FKUyxFQUtULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FMUyxFQU1ULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FOUyxFQU9ULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FQUyxFQVFULENBQUMsVUFBRCxFQUFhLFVBQWIsQ0FSUyxDQUFWOztBQVdBOztBQUVBLEtBQU1jLElBQUlGLElBQUksQ0FBSixHQUFRLENBQWxCO0FBQ0EsS0FBTUcsSUFBSUQsSUFBSSxDQUFkO0FBQ0EsS0FBTUUsSUFBSUosSUFBSUcsQ0FBZDs7QUFFQTtBQUNBLEtBQUlFLGFBQUo7QUFDQSxLQUFJRCxJQUFJLENBQVIsRUFBVztBQUNWQyxTQUFPTixNQUFNRyxDQUFOLElBQVksQ0FBQyxDQUFGLElBQVMsSUFBRUUsQ0FBN0I7QUFDQSxFQUZELE1BR0s7QUFDSkMsU0FBTyxJQUFQO0FBQ0E7O0FBR0Q7QUFDQTs7QUFFQSxLQUFNQyxJQUFJTixJQUFJLElBQUosR0FBVyxDQUFyQjtBQUNBLEtBQU1PLElBQUksQ0FBQ1AsSUFBSSxPQUFPTSxDQUFaLElBQWlCLENBQWpCLEdBQXFCLENBQS9COztBQUVBO0FBQ0EsS0FBSVQsSUFBSSxDQUFSOztBQUVBO0FBQ0EsTUFBSyxJQUFJUixJQUFJLENBQWIsRUFBZ0JBLElBQUlpQixDQUFwQixFQUF1QixFQUFFakIsQ0FBRixFQUFLUSxLQUFLLEdBQWpDLEVBQXNDO0FBQ3JDRixPQUFLUCxDQUFMLEVBQVFXLEtBQVIsRUFBZUYsQ0FBZjtBQUNBOztBQUVEO0FBQ0EsS0FBSVcsT0FBTyxFQUFYOztBQUVBO0FBQ0EsTUFBSyxJQUFJbkIsTUFBSSxDQUFiLEVBQWdCQSxNQUFJa0IsQ0FBcEIsRUFBdUIsRUFBRWxCLEdBQXpCLEVBQTRCO0FBQzNCbUIsT0FBS0MsSUFBTCxDQUFVVixNQUFNRixJQUFJUixHQUFWLENBQVY7QUFDQTs7QUFFRDtBQUNBO0FBQ0FtQixNQUFLQyxJQUFMLENBQVVKLElBQVY7O0FBR0E7QUFDQTtBQUNBLEtBQU1sQixJQUFLLE1BQU0sQ0FBQ2EsSUFBSSxDQUFMLElBQVUsSUFBM0I7QUFDQSxLQUFJVSxTQUFTdkIsSUFBSSxDQUFKLEdBQVEsQ0FBckI7O0FBRUEsS0FBSUEsSUFBSSxDQUFSLEVBQVc7QUFDVjtBQUNBO0FBQ0E7O0FBRUEsT0FBSyxJQUFJRSxNQUFJLENBQWIsRUFBZ0JBLE1BQUksQ0FBQ3FCLE1BQXJCLEVBQTZCLEVBQUVyQixHQUEvQixFQUFrQztBQUNqQ21CLFFBQUtDLElBQUwsQ0FBVSxDQUFWO0FBQ0E7O0FBRURkLE9BQUtQLENBQUwsRUFBUW9CLElBQVIsRUFBYyxDQUFkOztBQUVBRSxXQUFTLE1BQU0sQ0FBZjtBQUNBRixTQUFPLEVBQVA7QUFDQTs7QUFHRDtBQUNBLE1BQUssSUFBSW5CLE1BQUksQ0FBYixFQUFnQkEsTUFBSXFCLE1BQXBCLEVBQTRCLEVBQUVyQixHQUE5QixFQUFpQztBQUNoQ21CLE9BQUtDLElBQUwsQ0FBVSxDQUFWO0FBQ0E7O0FBRUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjtBQUNBRCxNQUFLQyxJQUFMLENBQVUsQ0FBVjs7QUFFQUQsTUFBS0MsSUFBTCxDQUFXVCxNQUFNLEVBQVAsR0FBYSxJQUF2QjtBQUNBUSxNQUFLQyxJQUFMLENBQVdULE1BQU0sRUFBUCxHQUFhLElBQXZCO0FBQ0FRLE1BQUtDLElBQUwsQ0FBV1QsTUFBTyxDQUFSLEdBQWEsSUFBdkI7QUFDQVEsTUFBS0MsSUFBTCxDQUFXVCxNQUFPLENBQVIsR0FBYSxJQUF2Qjs7QUFFQUwsTUFBS1AsQ0FBTCxFQUFRb0IsSUFBUixFQUFjLENBQWQ7O0FBRUEsTUFBSyxJQUFJRyxJQUFJLENBQVIsRUFBV3RCLE1BQUksQ0FBcEIsRUFBdUJBLE1BQUksQ0FBM0IsRUFBOEIsRUFBRUEsR0FBaEMsRUFBbUM7QUFDbENZLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQVksRUFBYixHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQVksRUFBYixHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQWEsQ0FBZCxHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQWEsQ0FBZCxHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQVksRUFBYixHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQVksRUFBYixHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQWEsQ0FBZCxHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0FWLFNBQU9VLENBQVAsSUFBYXZCLEVBQUVDLEdBQUYsRUFBSyxDQUFMLE1BQWEsQ0FBZCxHQUFtQixJQUEvQjtBQUNBLElBQUVzQixDQUFGO0FBQ0E7O0FBRUQsUUFBT1YsTUFBUDtBQUVBIiwiZmlsZSI6InNoYTM4NC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFkZDY0ICwgYW5kNjQgLCB4b3I2NCAsIHJvdDY0ICwgbm90NjQgLCBiaWc2NCAsIHNocjY0IH0gZnJvbSAnQGF1cmVvb21zL2pzLXVpbnQ2NCcgO1xuXG4vLyBJbml0aWFsaXplIHRhYmxlIG9mIHJvdW5kIGNvbnN0YW50c1xuLy8gKGZpcnN0IDY0IGJpdHMgb2YgdGhlIGZyYWN0aW9uYWwgcGFydHMgb2YgdGhlIGN1YmUgcm9vdHMgb2YgdGhlIGZpcnN0IDgwIHByaW1lcyAyLi4zMTEpOlxuY29uc3QgayA9IFtcblx0WzB4NDI4YTJmOTgsIDB4ZDcyOGFlMjJdLCBbMHg3MTM3NDQ5MSwgMHgyM2VmNjVjZF0sIFsweGI1YzBmYmNmLCAweGVjNGQzYjJmXSwgWzB4ZTliNWRiYTUsIDB4ODE4OWRiYmNdLFxuXHRbMHgzOTU2YzI1YiwgMHhmMzQ4YjUzOF0sIFsweDU5ZjExMWYxLCAweGI2MDVkMDE5XSwgWzB4OTIzZjgyYTQsIDB4YWYxOTRmOWJdLCBbMHhhYjFjNWVkNSwgMHhkYTZkODExOF0sXG5cdFsweGQ4MDdhYTk4LCAweGEzMDMwMjQyXSwgWzB4MTI4MzViMDEsIDB4NDU3MDZmYmVdLCBbMHgyNDMxODViZSwgMHg0ZWU0YjI4Y10sIFsweDU1MGM3ZGMzLCAweGQ1ZmZiNGUyXSxcblx0WzB4NzJiZTVkNzQsIDB4ZjI3Yjg5NmZdLCBbMHg4MGRlYjFmZSwgMHgzYjE2OTZiMV0sIFsweDliZGMwNmE3LCAweDI1YzcxMjM1XSwgWzB4YzE5YmYxNzQsIDB4Y2Y2OTI2OTRdLFxuXHRbMHhlNDliNjljMSwgMHg5ZWYxNGFkMl0sIFsweGVmYmU0Nzg2LCAweDM4NGYyNWUzXSwgWzB4MGZjMTlkYzYsIDB4OGI4Y2Q1YjVdLCBbMHgyNDBjYTFjYywgMHg3N2FjOWM2NV0sXG5cdFsweDJkZTkyYzZmLCAweDU5MmIwMjc1XSwgWzB4NGE3NDg0YWEsIDB4NmVhNmU0ODNdLCBbMHg1Y2IwYTlkYywgMHhiZDQxZmJkNF0sIFsweDc2Zjk4OGRhLCAweDgzMTE1M2I1XSxcblx0WzB4OTgzZTUxNTIsIDB4ZWU2NmRmYWJdLCBbMHhhODMxYzY2ZCwgMHgyZGI0MzIxMF0sIFsweGIwMDMyN2M4LCAweDk4ZmIyMTNmXSwgWzB4YmY1OTdmYzcsIDB4YmVlZjBlZTRdLFxuXHRbMHhjNmUwMGJmMywgMHgzZGE4OGZjMl0sIFsweGQ1YTc5MTQ3LCAweDkzMGFhNzI1XSwgWzB4MDZjYTYzNTEsIDB4ZTAwMzgyNmZdLCBbMHgxNDI5Mjk2NywgMHgwYTBlNmU3MF0sXG5cdFsweDI3YjcwYTg1LCAweDQ2ZDIyZmZjXSwgWzB4MmUxYjIxMzgsIDB4NWMyNmM5MjZdLCBbMHg0ZDJjNmRmYywgMHg1YWM0MmFlZF0sIFsweDUzMzgwZDEzLCAweDlkOTViM2RmXSxcblx0WzB4NjUwYTczNTQsIDB4OGJhZjYzZGVdLCBbMHg3NjZhMGFiYiwgMHgzYzc3YjJhOF0sIFsweDgxYzJjOTJlLCAweDQ3ZWRhZWU2XSwgWzB4OTI3MjJjODUsIDB4MTQ4MjM1M2JdLFxuXHRbMHhhMmJmZThhMSwgMHg0Y2YxMDM2NF0sIFsweGE4MWE2NjRiLCAweGJjNDIzMDAxXSwgWzB4YzI0YjhiNzAsIDB4ZDBmODk3OTFdLCBbMHhjNzZjNTFhMywgMHgwNjU0YmUzMF0sXG5cdFsweGQxOTJlODE5LCAweGQ2ZWY1MjE4XSwgWzB4ZDY5OTA2MjQsIDB4NTU2NWE5MTBdLCBbMHhmNDBlMzU4NSwgMHg1NzcxMjAyYV0sIFsweDEwNmFhMDcwLCAweDMyYmJkMWI4XSxcblx0WzB4MTlhNGMxMTYsIDB4YjhkMmQwYzhdLCBbMHgxZTM3NmMwOCwgMHg1MTQxYWI1M10sIFsweDI3NDg3NzRjLCAweGRmOGVlYjk5XSwgWzB4MzRiMGJjYjUsIDB4ZTE5YjQ4YThdLFxuXHRbMHgzOTFjMGNiMywgMHhjNWM5NWE2M10sIFsweDRlZDhhYTRhLCAweGUzNDE4YWNiXSwgWzB4NWI5Y2NhNGYsIDB4Nzc2M2UzNzNdLCBbMHg2ODJlNmZmMywgMHhkNmIyYjhhM10sXG5cdFsweDc0OGY4MmVlLCAweDVkZWZiMmZjXSwgWzB4NzhhNTYzNmYsIDB4NDMxNzJmNjBdLCBbMHg4NGM4NzgxNCwgMHhhMWYwYWI3Ml0sIFsweDhjYzcwMjA4LCAweDFhNjQzOWVjXSxcblx0WzB4OTBiZWZmZmEsIDB4MjM2MzFlMjhdLCBbMHhhNDUwNmNlYiwgMHhkZTgyYmRlOV0sIFsweGJlZjlhM2Y3LCAweGIyYzY3OTE1XSwgWzB4YzY3MTc4ZjIsIDB4ZTM3MjUzMmJdLFxuXHRbMHhjYTI3M2VjZSwgMHhlYTI2NjE5Y10sIFsweGQxODZiOGM3LCAweDIxYzBjMjA3XSwgWzB4ZWFkYTdkZDYsIDB4Y2RlMGViMWVdLCBbMHhmNTdkNGY3ZiwgMHhlZTZlZDE3OF0sXG5cdFsweDA2ZjA2N2FhLCAweDcyMTc2ZmJhXSwgWzB4MGE2MzdkYzUsIDB4YTJjODk4YTZdLCBbMHgxMTNmOTgwNCwgMHhiZWY5MGRhZV0sIFsweDFiNzEwYjM1LCAweDEzMWM0NzFiXSxcblx0WzB4MjhkYjc3ZjUsIDB4MjMwNDdkODRdLCBbMHgzMmNhYWI3YiwgMHg0MGM3MjQ5M10sIFsweDNjOWViZTBhLCAweDE1YzliZWJjXSwgWzB4NDMxZDY3YzQsIDB4OWMxMDBkNGNdLFxuXHRbMHg0Y2M1ZDRiZSwgMHhjYjNlNDJiNl0sIFsweDU5N2YyOTljLCAweGZjNjU3ZTJhXSwgWzB4NWZjYjZmYWIsIDB4M2FkNmZhZWNdLCBbMHg2YzQ0MTk4YywgMHg0YTQ3NTgxN11cbl07XG5cbmZ1bmN0aW9uIGN5Y2xlIChzdGF0ZSwgdykge1xuXG5cdC8vIGluaXRpYWxpemUgaGFzaCB2YWx1ZSBmb3IgdGhpcyBjaHVuazpcblx0bGV0IGEgPSBzdGF0ZVswXTtcblx0bGV0IGIgPSBzdGF0ZVsxXTtcblx0bGV0IGMgPSBzdGF0ZVsyXTtcblx0bGV0IGQgPSBzdGF0ZVszXTtcblx0bGV0IGUgPSBzdGF0ZVs0XTtcblx0bGV0IGYgPSBzdGF0ZVs1XTtcblx0bGV0IGcgPSBzdGF0ZVs2XTtcblx0bGV0IGggPSBzdGF0ZVs3XTtcblxuXHQvLyBNYWluIGxvb3A6XG5cdC8vIGZvciBqIGZyb20gMCB0byA3OVxuXHRmb3IgKGxldCBqID0gMDsgaiA8IDgwOyArK2opIHtcblx0XHQvLyBTMSA6PSAoZSByaWdodHJvdGF0ZSAxNCkgeG9yIChlIHJpZ2h0cm90YXRlIDE4KSB4b3IgKGUgcmlnaHRyb3RhdGUgNDEpXG5cdFx0Y29uc3QgczEgPSB4b3I2NCh4b3I2NChyb3Q2NChlLCAxNCksIHJvdDY0KGUsIDE4KSksIHJvdDY0KGUsIDQxKSk7XG5cdFx0Ly8gY2ggOj0gKGUgYW5kIGYpIHhvciAoKG5vdCBlKSBhbmQgZylcblx0XHRjb25zdCBjaCA9IHhvcjY0KGFuZDY0KGUsIGYpLCBhbmQ2NChub3Q2NChlKSwgZykpO1xuXHRcdC8vIHRlbXAgOj0gaCArIFMxICsgY2ggKyBrW2pdICsgd1tqXVxuXHRcdGxldCB0ZW1wID0gYWRkNjQoYWRkNjQoaCwgczEpLCBhZGQ2NChhZGQ2NChjaCwga1tqXSksIHdbal0pKTtcblx0XHQvLyBkIDo9IGQgKyB0ZW1wO1xuXHRcdGQgPSBhZGQ2NChkLCB0ZW1wKTtcblx0XHQvLyBTMCA6PSAoYSByaWdodHJvdGF0ZSAyOCkgeG9yIChhIHJpZ2h0cm90YXRlIDM0KSB4b3IgKGEgcmlnaHRyb3RhdGUgMzkpXG5cdFx0Y29uc3QgczAgPSB4b3I2NCh4b3I2NChyb3Q2NChhLCAyOCksIHJvdDY0KGEsIDM0KSksIHJvdDY0KGEsIDM5KSk7XG5cdFx0Ly8gbWFqIDo9IChhIGFuZCAoYiB4b3IgYykpIHhvciAoYiBhbmQgYylcblx0XHRjb25zdCBtYWogPSB4b3I2NChhbmQ2NChhLCB4b3I2NChiLCBjKSksIGFuZDY0KGIsIGMpKTtcblx0XHQvLyB0ZW1wIDo9IHRlbXAgKyBTMCArIG1halxuXHRcdHRlbXAgPSBhZGQ2NChhZGQ2NCh0ZW1wLCBzMCksIG1haik7XG5cblx0XHRoID0gZztcblx0XHRnID0gZjtcblx0XHRmID0gZTtcblx0XHRlID0gZDtcblx0XHRkID0gYztcblx0XHRjID0gYjtcblx0XHRiID0gYTtcblx0XHRhID0gdGVtcDtcblx0fVxuXG5cdC8vIEFkZCB0aGlzIGNodW5rJ3MgaGFzaCB0byByZXN1bHQgc28gZmFyOlxuXHRzdGF0ZVswXSA9IGFkZDY0KHN0YXRlWzBdLCBhKTtcblx0c3RhdGVbMV0gPSBhZGQ2NChzdGF0ZVsxXSwgYik7XG5cdHN0YXRlWzJdID0gYWRkNjQoc3RhdGVbMl0sIGMpO1xuXHRzdGF0ZVszXSA9IGFkZDY0KHN0YXRlWzNdLCBkKTtcblx0c3RhdGVbNF0gPSBhZGQ2NChzdGF0ZVs0XSwgZSk7XG5cdHN0YXRlWzVdID0gYWRkNjQoc3RhdGVbNV0sIGYpO1xuXHRzdGF0ZVs2XSA9IGFkZDY0KHN0YXRlWzZdLCBnKTtcblx0c3RhdGVbN10gPSBhZGQ2NChzdGF0ZVs3XSwgaCk7XG59XG5cbmZ1bmN0aW9uIGNhbGwgKGgsIGRhdGEsIG8pIHtcblxuXHRjb25zdCB3ID0gbmV3IEFycmF5KDgwKTtcblxuXHQvLyBicmVhayBjaHVuayBpbnRvIHNpeHRlZW4gNjQtYml0IGJpZy1lbmRpYW4gd29yZHMgd1tpXSwgMCDiiaQgaSDiiaQgMTVcblx0Zm9yIChsZXQgaiA9IDA7IGogPCAxNjsgKytqKSB7XG5cdFx0d1tqXSA9IGJpZzY0KGRhdGEsIG8gKyBqICogOCk7XG5cdH1cblxuXHQvLyBFeHRlbmQgdGhlIHNpeHRlZW4gNjQtYml0IHdvcmRzIGludG8gODAgNjQtYml0IHdvcmRzOlxuXHQvLyBmb3IgaiBmcm9tIDE2IHRvIDc5XG5cdGZvciAobGV0IGogPSAxNjsgaiA8IDgwOyArK2opIHtcblx0XHQvLyBzMCA6PSAod1tqLTE1XSByaWdodHJvdGF0ZSAxKSB4b3IgKHdbai0xNV0gcmlnaHRyb3RhdGUgOCkgeG9yICh3W2otMTVdIHJpZ2h0c2hpZnQgNylcblx0XHRjb25zdCBzMCA9IHhvcjY0KHhvcjY0KHJvdDY0KHdbai0xNV0sICAxKSwgcm90NjQod1tqLTE1XSwgIDgpKSwgc2hyNjQod1tqLTE1XSwgNykpO1xuXHRcdC8vIHMxIDo9ICh3W2otMl0gcmlnaHRyb3RhdGUgMTkpIHhvciAod1tqLTJdIHJpZ2h0cm90YXRlIDYxKSB4b3IgKHdbai0yXSByaWdodHNoaWZ0IDYpXG5cdFx0Y29uc3QgczEgPSB4b3I2NCh4b3I2NChyb3Q2NCh3W2otIDJdLCAxOSksIHJvdDY0KHdbai0gMl0sIDYxKSksIHNocjY0KHdbai0gMl0sIDYpKTtcblx0XHQvLyB3W2pdIDo9IHdbai0xNl0gKyBzMCArIHdbai03XSArIHMxXG5cdFx0d1tqXSA9IGFkZDY0KGFkZDY0KHdbai0xNl0sIHMwKSwgYWRkNjQod1tqLTddLCBzMSkpO1xuXHR9XG5cblx0Y3ljbGUoaCwgdyk7XG5cbn1cblxuXG5cbi8qKlxuICogU0hBLTM4NFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhMzg0IChieXRlcywgbiwgZGlnZXN0KSB7XG5cblx0Ly8gTm90ZSAxOiBBbGwgdmFyaWFibGVzIGFyZSB1bnNpZ25lZCA2NCBiaXRzIGFuZCB3cmFwIG1vZHVsbyAyXjY0IHdoZW4gY2FsY3VsYXRpbmdcblx0Ly8gTm90ZSAyOiBBbGwgY29uc3RhbnRzIGluIHRoaXMgcHNldWRvIGNvZGUgYXJlIGluIGJpZyBlbmRpYW5cblxuXHQvLyBJbml0aWFsaXplIHZhcmlhYmxlc1xuXHQvLyAoZmlyc3QgNjQgYml0cyBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0cyBvZiB0aGUgc3F1YXJlIHJvb3RzIG9mIHRoZSA5dGggdGhyb3VnaCAxNnRoIHByaW1lcyAyMy4uNTMpXG5cdGNvbnN0IGggPSBbXG5cdFx0WzB4Y2JiYjlkNWQsIDB4YzEwNTllZDhdLFxuXHRcdFsweDYyOWEyOTJhLCAweDM2N2NkNTA3XSxcblx0XHRbMHg5MTU5MDE1YSwgMHgzMDcwZGQxN10sXG5cdFx0WzB4MTUyZmVjZDgsIDB4ZjcwZTU5MzldLFxuXHRcdFsweDY3MzMyNjY3LCAweGZmYzAwYjMxXSxcblx0XHRbMHg4ZWI0NGE4NywgMHg2ODU4MTUxMV0sXG5cdFx0WzB4ZGIwYzJlMGQsIDB4NjRmOThmYTddLFxuXHRcdFsweDQ3YjU0ODFkLCAweGJlZmE0ZmE0XVxuXHRdO1xuXG5cdC8vIFBSRVBBUkVcblxuXHRjb25zdCBxID0gbiAvIDggfCAwO1xuXHRjb25zdCB6ID0gcSAqIDg7XG5cdGNvbnN0IHUgPSBuIC0gejtcblxuXHQvLyBhcHBlbmQgdGhlIGJpdCAnMScgdG8gdGhlIG1lc3NhZ2Vcblx0bGV0IGxhc3QgO1xuXHRpZiAodSA+IDApIHtcblx0XHRsYXN0ID0gYnl0ZXNbcV0gJiAofjApIDw8ICg3LXUpO1xuXHR9XG5cdGVsc2Uge1xuXHRcdGxhc3QgPSAweDgwO1xuXHR9XG5cblxuXHQvLyBQcm9jZXNzIHRoZSBtZXNzYWdlIGluIHN1Y2Nlc3NpdmUgMTAyNC1iaXQgY2h1bmtzOlxuXHQvLyBicmVhayBtZXNzYWdlIGludG8gMTAyNC1iaXQgY2h1bmtzXG5cblx0Y29uc3QgbSA9IG4gLyAxMDI0IHwgMDtcblx0Y29uc3QgeSA9IChuIC0gMTAyNCAqIG0pIC8gOCB8IDA7XG5cblx0Ly8gb2Zmc2V0IGluIGRhdGFcblx0bGV0IG8gPSAwO1xuXG5cdC8vIGZvciBlYWNoIGNodW5rXG5cdGZvciAobGV0IGogPSAwOyBqIDwgbTsgKytqLCBvICs9IDEyOCkge1xuXHRcdGNhbGwoaCwgYnl0ZXMsIG8pO1xuXHR9XG5cblx0Ly8gbGFzdCBieXRlcyArIHBhZGRpbmcgKyBsZW5ndGhcblx0bGV0IHRhaWwgPSBbXTtcblxuXHQvLyBsYXN0IGJ5dGVzXG5cdGZvciAobGV0IGogPSAwOyBqIDwgeTsgKytqKSB7XG5cdFx0dGFpbC5wdXNoKGJ5dGVzW28gKyBqXSk7XG5cdH1cblxuXHQvLyBzcGVjaWFsIGNhcmUgdGFrZW4gZm9yIHRoZSB2ZXJ5IGxhc3QgYnl0ZSB3aGljaCBjb3VsZFxuXHQvLyBoYXZlIGJlZW4gbW9kaWZpZWQgaWYgbiBpcyBub3QgYSBtdWx0aXBsZSBvZiA4XG5cdHRhaWwucHVzaChsYXN0KTtcblxuXG5cdC8vIGFwcGVuZCAwIOKJpCBrIDwgMTAyNCBiaXRzICcwJywgc28gdGhhdCB0aGUgcmVzdWx0aW5nXG5cdC8vIG1lc3NhZ2UgbGVuZ3RoIChpbiBiaXRzKSBpcyBjb25ncnVlbnQgdG8gODk2IChtb2QgMTAyNClcblx0Y29uc3QgZyA9ICg4OTYgLSAobiArIDEpICUgMTAyNCk7XG5cdGxldCB6ZXJvZXMgPSBnIC8gOCB8IDA7XG5cblx0aWYgKGcgPCAwKSB7XG5cdFx0Ly8gd2UgbmVlZCBhbiBhZGRpdGlvbmFsIGJsb2NrIGFzIHRoZXJlIGlzXG5cdFx0Ly8gbm90IGVub3VnaCBzcGFjZSBsZWZ0IHRvIGFwcGVuZFxuXHRcdC8vIHRoZSBsZW5ndGggb2YgdGhlIGRhdGEgaW4gYml0c1xuXG5cdFx0Zm9yIChsZXQgaiA9IDA7IGogPCAtemVyb2VzOyArK2opIHtcblx0XHRcdHRhaWwucHVzaCgwKTtcblx0XHR9XG5cblx0XHRjYWxsKGgsIHRhaWwsIDApO1xuXG5cdFx0emVyb2VzID0gODk2IC8gODtcblx0XHR0YWlsID0gW107XG5cdH1cblxuXG5cdC8vIHBhZCB3aXRoIHplcm9lc1xuXHRmb3IgKGxldCBqID0gMDsgaiA8IHplcm9lczsgKytqKSB7XG5cdFx0dGFpbC5wdXNoKDApO1xuXHR9XG5cblx0Ly8gYXBwZW5kIGxlbmd0aCBvZiBtZXNzYWdlIChiZWZvcmUgcHJlcGFyYXRpb24pLCBpbiBiaXRzLFxuXHQvLyBhcyAxMjgtYml0IGJpZy1lbmRpYW4gaW50ZWdlclxuXG5cdC8vIEphdmFTY3JpcHQgd29ya3Mgd2l0aCAzMiBiaXQgaW50ZWdlcnMuXG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gMTI0KSAmIDB4ZmYpO1xuXHQvLyB0YWlsLnB1c2goKG4gPj4+IDExNikgJiAweGZmKTtcblx0Ly8gdGFpbC5wdXNoKChuID4+PiAxMDgpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gOTYpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gODgpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gODApICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gNzIpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gNjQpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gNTYpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gNDgpICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gNDApICYgMHhmZik7XG5cdC8vIHRhaWwucHVzaCgobiA+Pj4gMzIpICYgMHhmZik7XG5cdHRhaWwucHVzaCgwKTtcblx0dGFpbC5wdXNoKDApO1xuXHR0YWlsLnB1c2goMCk7XG5cdHRhaWwucHVzaCgwKTtcblx0dGFpbC5wdXNoKDApO1xuXHR0YWlsLnB1c2goMCk7XG5cdHRhaWwucHVzaCgwKTtcblx0dGFpbC5wdXNoKDApO1xuXHR0YWlsLnB1c2goMCk7XG5cdHRhaWwucHVzaCgwKTtcblx0dGFpbC5wdXNoKDApO1xuXHR0YWlsLnB1c2goMCk7XG5cblx0dGFpbC5wdXNoKChuID4+PiAyNCkgJiAweGZmKTtcblx0dGFpbC5wdXNoKChuID4+PiAxNikgJiAweGZmKTtcblx0dGFpbC5wdXNoKChuID4+PiAgOCkgJiAweGZmKTtcblx0dGFpbC5wdXNoKChuID4+PiAgMCkgJiAweGZmKTtcblxuXHRjYWxsKGgsIHRhaWwsIDApO1xuXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaiA8IDY7ICsraikge1xuXHRcdGRpZ2VzdFtpXSA9IChoW2pdWzBdID4+PiAyNCkgJiAweGZmO1xuXHRcdCsraTtcblx0XHRkaWdlc3RbaV0gPSAoaFtqXVswXSA+Pj4gMTYpICYgMHhmZjtcblx0XHQrK2k7XG5cdFx0ZGlnZXN0W2ldID0gKGhbal1bMF0gPj4+ICA4KSAmIDB4ZmY7XG5cdFx0KytpO1xuXHRcdGRpZ2VzdFtpXSA9IChoW2pdWzBdID4+PiAgMCkgJiAweGZmO1xuXHRcdCsraTtcblx0XHRkaWdlc3RbaV0gPSAoaFtqXVsxXSA+Pj4gMjQpICYgMHhmZjtcblx0XHQrK2k7XG5cdFx0ZGlnZXN0W2ldID0gKGhbal1bMV0gPj4+IDE2KSAmIDB4ZmY7XG5cdFx0KytpO1xuXHRcdGRpZ2VzdFtpXSA9IChoW2pdWzFdID4+PiAgOCkgJiAweGZmO1xuXHRcdCsraTtcblx0XHRkaWdlc3RbaV0gPSAoaFtqXVsxXSA+Pj4gIDApICYgMHhmZjtcblx0XHQrK2k7XG5cdH1cblxuXHRyZXR1cm4gZGlnZXN0O1xuXG59XG4iXX0=